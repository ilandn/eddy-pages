(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e){e.exports={_username_:"Username",_sign_in_:{title:"Eddy Login",label:"Sign In"},_register_:{label:"Register"},_forgot_password_:{label:"Forgot Password"},_or_:"or",_password_:"Password",_login_with_google_:{label:"Login With Google"}}},163:function(e){e.exports={_username_:"Username",_sign_in_:{title:"Eddy Login",label:"Sign In"},_register_:{label:"Register"},_forgot_password_:{label:"Forgot Password"},_or_:"or",_password_:"Password",_login_with_google_:{label:"Login With Google"}}},164:function(e){e.exports={_username_:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",_sign_in_:{title:"\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d0\u05d3\u05d3\u05d9",label:"\u05d4\u05ea\u05d7\u05d1\u05e8"},_register_:{label:"\u05d7\u05e9\u05d1\u05d5\u05df \u05d7\u05d3\u05e9"},_forgot_password_:{label:"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4"},_or_:"\u05d0\u05d5",_password_:"\u05e1\u05d9\u05e1\u05de\u05d4",_login_with_google_:{label:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05d3\u05e8\u05da \u05d2\u05d5\u05d2\u05dc"}}},186:function(e,t,n){e.exports=n.p+"static/media/Marketplace.9c861c7c.jpg"},211:function(e,t,n){e.exports=n(427)},427:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),o=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(33),c=n(112),l=n(43),u=n(161),m=n.n(u),d=n(162),h={ru:{translation:n(163)},en:{translation:d},he:{translation:n(164)}};c.a.use(m.a).use(l.a).init({resources:h,debug:!0});var p=c.a,g=(n(240),n(55)),f=n(165),b="SHOW_MESSAGE",v="SHOW_MESSAGE";function y(e){return{type:b,messageData:{open:!0,variant:"error",text:e}}}var E=n(56),w=n(35),O=n.n(w),k=n(15),j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(k.a)(this,e),this.username=t,this.fullname=n,this.language=a},C={baseUrl:"http://localhost:8080",tokenHeader:"x-auth-token"},_={signIn:function(e,t){return O.a.post("/eddy/api/login",{username:e,password:t}).then(function(e){var t=e.headers[C.tokenHeader],n=new j(e.data.username,e.data.username,e.data.language);return{user:n,token:t}})},getStoredUser:function(){return window.cordova,{currentUser:null,token:null,isProcessing:!1}}};var S="SIGNIN_SUCCESS",x="SIGNIN_FAILURE",N="SIGNIN_STARTED";var R=n(209),T=n(66),P=n(166),I=n.n(P),G=n(16),A="THEME_CHANGED";var M="SHOW_QUESTION";var F=Object(g.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messageData:{open:!1,variant:null,text:null}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case v:return Object.assign({},e,{messageData:t.messageData});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentUser:null,isProcessing:!1,token:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(E.a)({},e,{isProcessing:!0,currentUser:null,token:null});case S:return Object(E.a)({},e,{currentUser:t.user,token:t.token});case x:return Object(E.a)({},e,{isProcessing:!1,currentUser:null,token:null});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentTheme:Object(G.createMuiTheme)({direction:"ltr",typography:{useNextVariants:!0,fontFamily:["Montserrat","sans-serif"].join(",")}}),jss:Object(T.create)({plugins:[].concat(Object(R.a)(Object(G.jssPreset)().plugins),[I()()])}),generateClassName:Object(G.createGenerateClassName)()},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object.assign({},e,{currentTheme:t.currentTheme});default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{question:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object.assign({},e,{question:t.question});default:return e}}}),D={auth:_.getStoredUser()},W=Object(g.d)(F,D,Object(g.a)(f.a));var L=n(432),U=n(208),q=n.n(U),Q=n(27),H=n(173),B=n.n(H),V=n(25),z=n.n(V),J=n(174),Y=n.n(J),$=n(49),K=n.n($),X=n(429),Z=n(175),ee=n.n(Z),te=n(176),ne=n.n(te),ae=n(169),re=n.n(ae),ie=n(17),oe=n(21),se=n(20),ce=n(22),le=n(105),ue=n.n(le),me=n(80),de=n.n(me),he=n(38),pe=n.n(he),ge=n(104),fe=n.n(ge),be=n(168),ve=n.n(be),ye=n(106),Ee=n.n(ye),we=n(167),Oe=n.n(we),ke=[{name:"English",direction:"ltr",locale:"en"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",direction:"rtl",locale:"he"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",direction:"ltr",locale:"ru"}],je=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(oe.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n.handleMenuClick=function(e){n.setState({open:!1}),document.getElementById("body").dir=e.direction,p.changeLanguage(e.locale),n.props.changeThemeDirecton(e.direction)},n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.open;return r.a.createElement("div",{className:t.root},r.a.createElement(z.a,{color:"inherit",size:"small",className:t.button,buttonRef:function(t){e.anchorEl=t},"aria-owns":n?"languageMenuGrow":void 0,"aria-haspopup":"true",onClick:this.handleToggle},r.a.createElement(Oe.a,null)),r.a.createElement(fe.a,{open:n,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var n=t.TransitionProps,a=t.placement;return r.a.createElement(de.a,Object.assign({},n,{id:"languageMenuGrow",style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(pe.a,null,r.a.createElement(ue.a,{onClickAway:e.handleClose},r.a.createElement(Ee.a,null,ke.map(function(t){return r.a.createElement(ve.a,{key:t.name,onClick:e.handleMenuClick.bind(e,t)},t.name)})))))}))}}]),t}(r.a.Component),Ce=Object(s.b)(null,function(e){return{changeThemeDirecton:function(t){return e(function(e){return{type:A,currentTheme:Object(G.createMuiTheme)({direction:e,typography:{useNextVariants:!0}})}}(t))}}})(Object(G.withStyles)(function(e){return{root:{display:"flex"},button:{minWidth:15}}})(je));var _e=Object(G.withStyles)(function(e){var t;return{rightIcon:{marginLeft:.5*e.spacing.unit,fontSize:30},menuButton:(t={},Object(Q.a)(t,e.breakpoints.down("sm"),{fontSize:11.5}),Object(Q.a)(t,e.breakpoints.up("md"),{fontSize:15}),t)}})(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{color:"inherit",replace:!0,size:"small",component:X.a,to:"/login",className:t.menuButton},r.a.createElement(re.a,{className:t.rightIcon})," Sign In"),r.a.createElement(Ce,null))}),Se=n(172),xe=n.n(Se),Ne=n(82),Re=n.n(Ne),Te=n(170),Pe=n.n(Te),Ie=n(171),Ge=n.n(Ie),Ae=n(107),Me=n.n(Ae),Fe=n(23),De=n.n(Fe),We=n(37),Le=n.n(We),Ue=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(oe.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorEl,n=Boolean(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{color:"inherit"},r.a.createElement(Pe.a,null,r.a.createElement(Ge.a,null))),r.a.createElement(xe.a,{title:"Eddy account"},r.a.createElement(K.a,{alt:"Eddy account",src:"/assets/images/gamer.jpg"})),r.a.createElement(Me.a,{id:"simple-popper",open:n,anchorEl:t,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Le.a,{container:!0,spacing:16,className:e.popover},r.a.createElement(Le.a,{item:!0,xs:6}),r.a.createElement(Le.a,{item:!0,xs:6},r.a.createElement(De.a,{variant:"h6",color:"inherit",className:e.grow},"Eddy user"),r.a.createElement(De.a,{variant:"h5",color:"inherit",className:e.grow},"Eddy")))))}}]),t}(r.a.Component),qe=Object(G.withStyles)(function(e){return{popover:{padding:10,minWidth:200},fab:{margin:e.spacing.unit}}})(Ue);var Qe=Object(s.b)(function(e){return{currentUser:e.auth.currentUser}})(Object(G.withStyles)(function(e){var t;return{root:{flexGrow:1},grow:{flexGrow:1},avatar:{margin:.5*e.spacing.unit,backgroundColor:e.palette.common.white,width:40,height:40},leftIcon:{marginRight:.5*e.spacing.unit},toolbar:{marginRight:50,padding:1},menuButton:(t={},Object(Q.a)(t,e.breakpoints.down("sm"),{fontSize:11.5}),Object(Q.a)(t,e.breakpoints.up("md"),{fontSize:15}),t)}})(function(e){var t=e.classes,n=e.currentUser;return r.a.createElement("div",{id:"header",className:t.root},r.a.createElement(B.a,{position:"fixed"},r.a.createElement(Y.a,{className:t.toolbar},r.a.createElement(K.a,{component:X.a,to:"/",src:"assets/images/unnamed.png",replace:!0,className:t.avatar}),r.a.createElement(z.a,{color:"inherit",replace:!0,size:"small",component:X.a,to:"/youtube",className:t.menuButton},r.a.createElement(ee.a,{className:t.leftIcon})," Youtube"),r.a.createElement(z.a,{color:"inherit",replace:!0,size:"small",component:X.a,to:"/play",className:t.menuButton},r.a.createElement(ne.a,{className:t.leftIcon})," Play"),r.a.createElement("div",{className:t.grow}),!n&&r.a.createElement(_e,null),n&&r.a.createElement(qe,null))))})),He=n(50),Be=n(6),Ve=n.n(Be),ze=n(177),Je=n.n(ze),Ye=n(179),$e=n.n(Ye),Ke=n(180),Xe=n.n(Ke),Ze=n(184),et=n.n(Ze),tt=n(181),nt=n.n(tt),at=n(182),rt=n.n(at),it=n(183),ot=n.n(it),st=n(109),ct=n.n(st),lt=n(178),ut=n.n(lt),mt={success:Je.a,warning:ut.a,error:$e.a,info:Xe.a};var dt=Object(s.b)(function(e){return{open:e.messages.messageData.open,variant:e.messages.messageData.variant,text:e.messages.messageData.text}},function(e){return{hide:function(){return e({type:b,messageData:{open:!1,variant:null,text:null}})}}})(Object(G.withStyles)(function(e){return{success:{backgroundColor:nt.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:rt.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing.unit}}})(function(e){var t=e.open,n=e.hide,a=e.text,i=e.classes,o=e.className,s=(e.message,e.onClose,e.variant),c=Object(He.a)(e,["open","hide","text","classes","className","message","onClose","variant"]),l=mt[s||"info"],u=function(e,t){t&&"clickaway"===t||n()};return r.a.createElement("div",null,r.a.createElement(ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:t,autoHideDuration:5e3,onClose:u},r.a.createElement(ct.a,Object.assign({className:Ve()(i[s],o),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:i.message},r.a.createElement(l,{className:Ve()(i.icon,i.iconVariant)}),a),action:[r.a.createElement(Re.a,{key:"close","aria-label":"Close",color:"inherit",className:i.close,onClick:u},r.a.createElement(et.a,{className:i.icon}))]},c))))})),ht=n(185),pt=n.n(ht);var gt=Object(s.b)(function(e){return{currentTheme:e.theme.currentTheme,jss:e.theme.jss,generateClassName:e.theme.generateClassName}})(function(e){return r.a.createElement(G.MuiThemeProvider,{theme:e.currentTheme},r.a.createElement(pt.a,{jss:e.jss,generateClassName:e.generateClassName},e.children))}),ft=n(430),bt=n(431),vt=Object(s.b)(function(e){return{currentUser:e.auth.currentUser}},null,null,{pure:!1})(function(e){var t=e.component,n=e.currentUser,a=Object(He.a)(e,["component","currentUser"]);return r.a.createElement(ft.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(bt.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),yt=n(45),Et=n.n(yt),wt=n(60),Ot=n(84),kt=n.n(Ot),jt=n(86),Ct=n.n(jt),_t=n(85),St=n.n(_t),xt=function(){function e(t){Object(k.a)(this,e),this.gameApiModel=t}return Object(ie.a)(e,[{key:"isPortrait",value:function(){var e=this.dimensions;return e.width<e.height}},{key:"id",get:function(){return this.gameApiModel.id}},{key:"name",get:function(){return this.gameApiModel.title}},{key:"description",get:function(){return this.gameApiModel.description}},{key:"dimensions",get:function(){return{width:this.gameApiModel.width,height:this.gameApiModel.height}}},{key:"url",get:function(){return this.gameApiModel.url}},{key:"thumbnail",get:function(){return this.gameApiModel.thumbnailUrl}}]),e}(),Nt=n(57),Rt=function(){function e(t){Object(k.a)(this,e),this.currentGame=new xt(t.game),this.currentQuestions=t.questions.map(function(e){return new Nt.Question(e)})}return Object(ie.a)(e,[{key:"game",get:function(){return this.currentGame}},{key:"questions",get:function(){return this.currentQuestions}}]),e}(),Tt=new(function(){function e(){Object(k.a)(this,e)}return Object(ie.a)(e,[{key:"createRandomGameContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return O.a.get("/eddy/api/play".concat(-1===e?"":"?gameid="+e)).then(function(e){return new Rt(e.data)}).catch(function(e){throw console.log("Games service 'createRandomGameContext' error ".concat(e)),e})}},{key:"getAllGames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return O.a.get("/eddy/api/game/public?page=".concat(e)).then(function(e){return e.data.map(function(e){return new xt(e)})}).catch(function(e){throw console.log("Games service 'getAllGames' error ".concat(e)),e})}}]),e}()),Pt=n(186),It=n.n(Pt),Gt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).state={games:[]},n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=Object(wt.a)(Et.a.mark(function e(){var t;return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.getAllGames();case 2:t=e.sent,this.setState({games:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state.games;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.heroRoot},r.a.createElement("div",{className:Ve()(e.layout,e.cardGrid)},r.a.createElement(Le.a,{container:!0,spacing:40},t.map(function(t){return r.a.createElement(Le.a,{item:!0,key:"game_".concat(t.id),sm:6,md:4,lg:3,style:{width:"100%"}},r.a.createElement(kt.a,{className:e.card,component:X.a,to:{pathname:"/play",state:{gameId:t.id}}},r.a.createElement(St.a,{width:160,height:90,className:e.cardMedia,image:t.thumbnail,title:"Image title"}),r.a.createElement(Ct.a,{className:e.cardContent},r.a.createElement(De.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement(De.a,null,t.description))))})))))}}]),t}(r.a.Component),At=Object(G.withStyles)(function(e){return{heroRoot:{backgroundImage:"url(".concat(It.a,")"),backgroundSize:"cover"},layout:Object(Q.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(1100+6*e.spacing.unit),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{paddingTop:120,padding:e.spacing.unit},card:{height:"100%",display:"flex",flexDirection:"column",transitionDuration:"0.3s","&:hover":{transform:"scale(1.1)"},textDecoration:"none",border:"2px solid ".concat(e.palette.primary.main),boxShadow:"10px 10px 50px 15px ".concat(e.palette.primary.main),borderRadius:10},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1,color:"white"}}})(Gt),Mt=n(18),Ft=n(89),Dt=n(67),Wt=n.n(Dt),Lt=n(68),Ut=n.n(Lt),qt=n(5),Qt=n.n(qt),Ht=n(41),Bt=n.n(Ht),Vt=n(47),zt=n.n(Vt),Jt=n(190),Yt=n.n(Jt),$t=n(191),Kt=n.n($t),Xt=function(e){var t;return t={},Object(Q.a)(t,e.breakpoints.down("sm"),{fontSize:11.5}),Object(Q.a)(t,e.breakpoints.up("md"),{fontSize:14}),t},Zt=n(61),en=n.n(Zt);var tn=Qt()(function(e){return{}})(function(e){e.classes;var t=e.isLoading,n=e.label,a=Object(He.a)(e,["classes","isLoading","label"]);return r.a.createElement(z.a,Object.assign({title:n,disabled:t,variant:"contained",color:"primary"},a),!t&&n,t&&r.a.createElement(en.a,{size:24}))});var nn=Qt()(function(e){return{button:{background:"#e14441",color:"white",borderRadius:5*e.spacing.unit,"&:hover":{background:"#C83F3D"}},text:{paddingLeft:e.spacing.unit}}})(function(e){var t=e.classes,n=Object(He.a)(e,["classes"]),a=Object(l.b)().t;return r.a.createElement(z.a,Object.assign({title:a("_login_with_google_.label"),variant:"contained",className:t.button},n),r.a.createElement("span",{className:"fa fa-google fa-lg"}),r.a.createElement("span",{className:t.text},a("_login_with_google_.label")))});var an=Object(l.c)()(Qt()(function(e){var t;return{font:Xt(e),container:(t={width:"auto",display:"block",marginLeft:"5%",marginRight:"5%",marginTop:"10%"},Object(Q.a)(t,e.breakpoints.up(500),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(Q.a)(t,"paddingTop",e.spacing.unit),t),paper:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#E8E8E8",borderRadius:15,padding:2.5*e.spacing.unit},avatar:{backgroundColor:e.palette.primary.main},form:{width:"100%"},textField:{marginTop:1.5*e.spacing.unit,marginBottom:1.5*e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},register:{width:"100%",paddingTop:1.5*e.spacing.unit,paddingBottom:1.5*e.spacing.unit},social:{width:"100%",paddingTop:2*e.spacing.unit},divider:{marginBottom:5*e.spacing.unit}}})(function(e){var t=e.t,n=e.classes,a=e.handleChange,i=e.handleSubmit,o=e.isSubmitting,s=e.errors;return r.a.createElement("div",{className:n.container},r.a.createElement(pe.a,{className:n.paper,elevation:4},r.a.createElement(K.a,{className:n.avatar},r.a.createElement(Wt.a,null)),r.a.createElement(De.a,{variant:"h5",color:"primary"},t("_sign_in_.title")),r.a.createElement("form",{className:n.form,onSubmit:i},r.a.createElement(Bt.a,{id:"username",name:"username",label:t("_username_"),helperText:t(s.username)||null,error:null!=s.username,fullWidth:!0,className:n.textField,onChange:a,autoFocus:!0,autoComplete:"username",disabled:o,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(Ut.a,{color:null!=s.username?"error":"primary"}))}}),r.a.createElement(Bt.a,{type:"password",id:"password",name:"password",label:t("_password_"),helperText:t(s.password)||null,error:null!=s.password,fullWidth:!0,autoComplete:"current-password",className:n.textField,onChange:a,disabled:o,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(Wt.a,{color:null!=s.password?"error":"primary"}))}}),r.a.createElement(tn,{type:"submit",fullWidth:!0,label:t("_sign_in_.label"),isLoading:o})),r.a.createElement("div",{className:n.register},r.a.createElement(z.a,{className:n.font,variant:"text",size:"small",color:"primary",style:{width:"40%",float:"left"},replace:!0,title:t("_register_.label"),component:X.a,to:"/register"},r.a.createElement(Yt.a,{className:Ve()(n.leftIcon,n.iconSmall)}),t("_register_.label")),r.a.createElement(z.a,{className:n.font,variant:"text",size:"small",color:"primary",replace:!0,style:{float:"right"},component:X.a,to:"/forgotpassword"},r.a.createElement(Kt.a,{className:Ve()(n.leftIcon,n.iconSmall)}),t("_forgot_password_.label"))),r.a.createElement(De.a,{variant:"caption",className:Ve.a.divider,color:"primary"},t("_or_")),r.a.createElement("div",{className:n.social},r.a.createElement(nn,{fullWidth:!0}))))})),rn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).handleFormValidate=function(e){var t={};return e.username||(t.username="_required_field_"),e.password||(t.password="_required_field_"),t},n.handleFormSubmit=function(e){n.props.signIn(e.username,e.password)},n.handleFormSubmit=n.handleFormSubmit.bind(Object(Mt.a)(n)),n.handleFormValidate=n.handleFormValidate.bind(Object(Mt.a)(n)),n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isProcessing,n=e.currentUser,a=(this.props.location.state||{from:{pathname:"/"}}).from;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(bt.a,{to:a}),!n&&r.a.createElement(Ft.a,{validate:this.handleFormValidate,validateOnBlur:!0,validateOnChange:!0,onSubmit:this.handleFormSubmit,render:function(e){return r.a.createElement(an,Object.assign({},e,{isSubmitting:t}))}}))}}]),t}(a.Component),on={signIn:function(e,t){return function(n){n({type:N}),_.signIn(e,t).then(function(e){var t;n({type:S,user:(t=e).user,token:t.token})}).catch(function(e){console.error(e),n({type:x}),n(y("_invalid_username_or_password_"))})}}},sn=Object(s.b)(function(e){return{currentUser:e.auth.currentUser,isProcessing:e.auth.isProcessing}},on)(rn),cn=n(193),ln=n.n(cn),un=n(192),mn=n.n(un);var dn=Object(l.c)()(Qt()(function(e){return{main:Object(Q.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:2*e.spacing.unit,marginBottom:2*e.spacing.unit},textField:{marginTop:1.5*e.spacing.unit,marginBottom:1.5*e.spacing.unit}}})(function(e){var t=e.t,n=e.classes,a=e.handleChange,i=e.handleSubmit,o=e.isSubmitting,s=e.errors;return r.a.createElement("div",{className:n.main},r.a.createElement(pe.a,{className:n.paper},r.a.createElement(K.a,{className:n.avatar},r.a.createElement(Ut.a,null)),r.a.createElement(De.a,{component:"div",variant:"h5"},t("_register_")),r.a.createElement("form",{className:n.form,onSubmit:i},r.a.createElement(Bt.a,{id:"firstname",name:"firstname",label:t("_firstname_"),helperText:s.firstname||" ",error:null!=s.firstname,fullWidth:!0,className:n.textField,onChange:a,autoFocus:!0,autoComplete:"firstname",disabled:o,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(mn.a,{color:null!=s.firstname?"error":"primary"}))}}),r.a.createElement(Bt.a,{id:"lastname",name:"lastname",label:t("_lastname_"),helperText:s.lastname||" ",error:null!=s.lastname,fullWidth:!0,className:n.textField,onChange:a,autoComplete:"lastname",disabled:o,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(Ut.a,{disabled:o,color:null!=s.lastname?"error":"primary"}))}}),r.a.createElement(Bt.a,{id:"email",name:"email",label:t("_email_"),helperText:s.email||" ",error:null!=s.email,fullWidth:!0,className:n.textField,onChange:a,autoComplete:"email",disabled:o,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(ln.a,{disabled:o,color:null!=s.email?"error":"primary"}))}}),r.a.createElement(Bt.a,{type:"password",id:"password",name:"password",label:t("_password_"),helperText:s.password||" ",error:null!=s.password,fullWidth:!0,autoComplete:"current-password",className:n.textField,onChange:a,disabled:o,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(Wt.a,{color:null!=s.password?"error":"primary"}))}}),r.a.createElement(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:o},!o&&t("_register_"),o&&r.a.createElement(en.a,{size:24})))))})),hn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).handleFormValidate=function(e){n.props.t;var t={};return e.firstname||(t.firstname="_required_field_"),e.lastname||(t.lastname="_required_field_"),e.email||(t.email="_required_field_"),e.password||(t.password="_required_field_"),t},n.handleFormSubmit=function(){var e=Object(wt.a)(Et.a.mark(function e(t,a){return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(function(){return e({isError:!0})},1e3)});case 2:n.props.history.push("/login");case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.handleFormSubmit=n.handleFormSubmit.bind(Object(Mt.a)(n)),n.handleFormValidate=n.handleFormValidate.bind(Object(Mt.a)(n)),n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return r.a.createElement(Ft.a,{validate:this.handleFormValidate,validateOnBlur:!0,validateOnChange:!0,onSubmit:this.handleFormSubmit,render:function(e){return r.a.createElement(dn,e)}})}}]),t}(a.Component),pn=n(194),gn=n(197),fn=n.n(gn),bn=n(201),vn=n.n(bn),yn=n(199),En=n.n(yn),wn=n(200),On=n.n(wn),kn=n(198),jn=n.n(kn),Cn=n(108),_n=n.n(Cn);function Sn(e){return r.a.createElement(_n.a,Object.assign({direction:"up"},e))}var xn=function(e){function t(e){return Object(k.a)(this,t),Object(oe.a)(this,Object(se.a)(t).call(this,e))}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.open,a=e.question,i=e.onAnswer;return r.a.createElement(fn.a,{open:n,TransitionComponent:Sn,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(jn.a,{id:"alert-dialog-slide-title"}," Math question?"),r.a.createElement(En.a,null,r.a.createElement(On.a,{id:"alert-dialog-slide-description"},r.a.createElement(De.a,{variant:"inherit",color:"inherit"},a&&a.body))),r.a.createElement(Le.a,{container:!0},a&&a.answers.map(function(e){return r.a.createElement(z.a,{className:t.button,key:e,variant:"contained",onClick:function(){return i(e)},color:"primary"},e)})),r.a.createElement(vn.a,{className:t.actions}))}}]),t}(r.a.Component),Nn=Qt()(function(e){return{button:{margin:e.spacing.unit},actions:{margin:0}}})(xn),Rn={getQuestion:function(){return O.a.get("/eddy/api/play?channel=youtube").then(function(e){return e.data.questions[0].data}).catch(function(e){return console.error(e),null})}};var Tn=n(203),Pn=n.n(Tn),In=n(202),Gn=n.n(In),An=n(204),Mn=n.n(An),Fn=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(k.a)(this,e),this.id=t,this.url=r,this.thumbnail=a,this.name=n,this.description=i},Dn={searchVideos:function(e){return O.a.get("https://youtube-api.now.sh",{params:{q:e,code:"codeisfun"}}).then(function(e){var t=e.data.map(function(e){return new Fn(e.id,e.title,e.thumbnails.high.url,e.link,e.description)});return console.debug(e.data),t}).catch(function(e){return console.error(e),null})}};var Wn,Ln=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).state={videos:[]},n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.debug("YoutubeSearch componentDidMount"),Dn.searchVideos("cartoon").then(function(t){console.debug(t),e.setState({videos:t})}).catch(function(e){console.error(e)})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){console.debug("YoutubeSearch render");var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.heroUnit},r.a.createElement("div",{className:e.heroContent},r.a.createElement(Bt.a,{id:"search",name:"search",placeholder:"Search",fullWidth:!0}))),r.a.createElement("div",{className:Ve()(e.layout,e.cardGrid)},r.a.createElement(Le.a,{container:!0,spacing:40},this.state.videos.map(function(t){return r.a.createElement(Le.a,{item:!0,key:"video_".concat(t.id),sm:6,md:4,lg:3,style:{width:"100%"}},r.a.createElement(kt.a,{className:e.card},r.a.createElement(St.a,{width:160,height:90,className:e.cardMedia,image:t.thumbnail,title:"Image title"}),r.a.createElement(Ct.a,{className:e.cardContent},r.a.createElement(De.a,{gutterBottom:!0,variant:"h6",component:"h2"},t.name),r.a.createElement(De.a,null,t.description)),r.a.createElement(Gn.a,{style:{justifyContent:"center"}},r.a.createElement(Pn.a,{color:"primary","aria-label":"Play"},r.a.createElement(Mn.a,null)))))}))))}}]),t}(r.a.Component),Un=Object(G.withStyles)(function(e){return{heroUnit:{},heroContent:{maxWidth:1100,margin:"0 auto",padding:2*e.spacing.unit},layout:Object(Q.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(1100+6*e.spacing.unit),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{padding:e.spacing.unit},card:{height:"100%",display:"flex",flexDirection:"column",transitionDuration:"0.3s","&:hover":{transform:"scale(1.1)"}},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}})(Ln),qn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).addEmbededCssClass=n.addEmbededCssClass.bind(Object(Mt.a)(n)),n.fullScreenMode=n.fullScreenMode.bind(Object(Mt.a)(n)),n.onReady=n.onReady.bind(Object(Mt.a)(n)),n.player=null,n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){void 0!==window.orientation&&(window.addEventListener("orientationchange",this.fullScreenMode,{useCapture:!1}),this.fullScreenMode())}},{key:"componentWillUnmount",value:function(){void 0!==window.orientation&&window.removeEventListener("orientationchange",this.fullScreenMode)}},{key:"addEmbededCssClass",value:function(){var e=document.getElementById("player"),t=window.innerHeight,n=window.innerWidth,a=n>t?t/n*100:n/t*100;if(null===document.getElementById("embeded_custom")){var r=document.createElement("style"),i=document.createTextNode(".embeded_custom::before { padding-top: ".concat(a,"%;}"));r.setAttribute("id","embeded_custom"),r.appendChild(i),e.appendChild(r)}}},{key:"fullScreenMode",value:function(){this.addEmbededCssClass();var e=document.getElementById("main"),t=document.getElementById("header"),n=document.getElementById("player");90===Math.abs(window.orientation)?(e.data=e.style.marginTop,e.style.marginTop="0px",t.style.display="none",n.className="embed-responsive embeded_custom"):(void 0!==window.orientation?n.className="embed-responsive embed-responsive-16by9":n.className="embed-responsive embed-responsive-21by9",e.style.marginTop=e.data,t.style.display="")}},{key:"onReady",value:function(e){this.player=e.target,this.play=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.onPlay,a=t.onEnd,i=t.onPause,o=t.shouldPause;return this.player&&this.play&&(o?this.player.pauseVideo():this.player.playVideo()),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"player",className:"embed-responsive embed-responsive-21by9"},r.a.createElement(pn.a,{className:"embed-responsive-item",onPlay:function(){e.play=!0,n()},onEnd:a,onReady:this.onReady,onPause:i,videoId:"gFk3tPRVi4Q"})),r.a.createElement(Un,null))}}]),t}(r.a.Component),Qn=(Wn=Qt()(function(){return{wrapper:{},player:{}}})(qn),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).playPaused=!1,n.state={showQuestion:!1,question:null,shouldPause:!1},n.onPlay=n.onPlay.bind(Object(Mt.a)(n)),n.onEnd=n.onEnd.bind(Object(Mt.a)(n)),n.onPause=n.onPause.bind(Object(Mt.a)(n)),n.onAnswer=n.onAnswer.bind(Object(Mt.a)(n)),n.getQuestion=n.getQuestion.bind(Object(Mt.a)(n)),n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"onPlay",value:function(){console.debug("onPlay"),this.playPaused=!1,setTimeout(this.getQuestion,5e3)}},{key:"getQuestion",value:function(){var e=this;Rn.getQuestion().then(function(t){console.debug("getQuestion"),null===t||e.playPaused||e.setState({showQuestion:!0,question:t,shouldPause:!0})})}},{key:"onEnd",value:function(){this.playPaused=!0}},{key:"onPause",value:function(){this.playPaused=!0}},{key:"onAnswer",value:function(e){this.setState({showQuestion:!1,question:null,shouldPause:!1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,Object.assign({},this.props,{onPlay:this.onPlay,onEnd:this.onEnd,onPause:this.onPause,shouldPause:this.state.shouldPause})),r.a.createElement(Nn,{open:this.state.showQuestion,onAnswer:this.onAnswer,question:this.state.question}))}}]),t}(r.a.Component)),Hn=n(206),Bn=n.n(Hn),Vn=n(205),zn=n.n(Vn),Jn={isPortrait:function(){return window.matchMedia("(orientation: portrait)").matches},getWidth:function(){return window.innerWidth},geHeight:function(){return window.innerHeight},isRotatable:function(){var e=new zn.a(window.navigator.userAgent);return null!==(e.phone()||e.tablet())},onOrientationChange:function(e){void 0!==window.orientation&&window.addEventListener("orientationchange",e,!1)},onOrientationChangeRemove:function(e){void 0!==window.orientation&&window.removeEventListener("orientationchange",e,!1)}};var Yn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).handleOrientationChange=n.handleOrientationChange.bind(Object(Mt.a)(n)),n.createStateObject=n.createStateObject.bind(Object(Mt.a)(n)),n.gameIframe=null,n.playerBorderCss="border-radius:15px; box-shadow: 10px\n        10px 40px 0px rgba(24,12,242,1);",n.state=n.initGameComponent(),n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.onGameComponentReady(this.gameIframe),Jn.onOrientationChange(this.handleOrientationChange)}},{key:"componentWillUnmount",value:function(){Jn.onOrientationChangeRemove(this.handleOrientationChange)}},{key:"initGameComponent",value:function(){return Jn.isRotatable()?this.initGameComponentOnRotatableDevice():this.initGameComponentOnNonRotatableDevice()}},{key:"handleOrientationChange",value:function(e){var t=this,n=this.state.fullScreen;n&&(90===Math.abs(e.target.orientation)?(console.debug("landscape"),this.toogleHeader(this.props.gameContext.game.isPortrait())):(console.debug("portrait"),this.toogleHeader(!this.props.gameContext.game.isPortrait()))),this.setState(function(e){return{isRotationRequired:!e.isRotationRequired,gamePlayerContainer:Object(E.a)({},e.gamePlayerContainer,{border:n||!e.isRotationRequired?"":t.playerBorderCss}),player:{styles:Object(E.a)({},e.player.styles,{opacity:e.isRotationRequired?1:0})}}})}},{key:"createStateObject",value:function(e,t,n,a,r,i,o,s,c){return{fullScreen:s,isRotationRequired:c,gamePlayerContainer:{width:e,height:t,paddingTop:n,border:a},player:{styles:{width:r,height:i,opacity:o}}}}},{key:"initGameComponentOnNonRotatableDevice",value:function(){console.debug("initGameComponentOnNonRotatableDevice");var e=this.props.gameContext.game,t=e.dimensions.width,n=e.dimensions.height,a=(Jn.getWidth(),Jn.geHeight()-64);if(n>a){var r=a/n;n=a,t*=r}return this.createStateObject("".concat(t,"px"),"".concat(n,"px"),"calc(((100vh - ".concat(n,"px) / 2 ) + 32px)"),this.playerBorderCss,"".concat(t,"px"),"".concat(n,"px"),1,!1,!1)}},{key:"initGameComponentOnRotatableDevice",value:function(){var e=Jn.isPortrait(),t=this.props.gameContext.game.isPortrait();return t&&e||!t&&!e?this.isFullScreenGame(!0)?this.initFullScreenGame():this.initNonFullScreenGame():this.isFullScreenGame(!1)?this.initFullScreenGameOnWrongRotation():this.initNonFullScreenGameOnWrongRotation()}},{key:"initFullScreenGame",value:function(){var e=Jn.getWidth(),t=Jn.geHeight();return this.toogleHeader(!1),this.createStateObject("100%","100%","0px","","".concat(e,"px"),"".concat(t,"px"),1,!0,!1)}},{key:"initFullScreenGameOnWrongRotation",value:function(){console.debug(window.screen.height,window.screen.availHeight,window.innerHeight,window.outerHeight);var e=Jn.getWidth(),t=Jn.geHeight();return this.createStateObject("".concat(t,"px"),"".concat(e,"px"),"0px","","".concat(t,"px"),"".concat(e,"px"),0,!0,!0)}},{key:"initNonFullScreenGame",value:function(){var e=this.props.gameContext.game,t=e.dimensions.width,n=e.dimensions.height;return this.createStateObject("".concat(t,"px"),"".concat(n,"px"),"calc(((100vh - ".concat(n,"px) / 2 ) + 32px)"),this.playerBorderCss,"".concat(t,"px"),"".concat(n,"px"),1,!1,!1)}},{key:"initNonFullScreenGameOnWrongRotation",value:function(){var e=this.props.gameContext.game,t=e.dimensions.width,n=e.dimensions.height;return this.createStateObject("".concat(t,"px"),"".concat(n,"px"),"calc(((100vh - ".concat(n,"px) / 2 ) + 32px)"),"","".concat(t,"px"),"".concat(n,"px"),0,!1,!0)}},{key:"isFullScreenGame",value:function(e){var t=this.props.gameContext.game,n=t.dimensions.width,a=t.dimensions.height,r=Jn.getWidth(),i=Jn.geHeight();return e?n>r||a>i:n>i||a>r}},{key:"toogleHeader",value:function(e){var t=document.getElementById("main"),n=document.getElementById("header");e?(t.style.marginTop=t.data,n.style.display=""):(t.data=t.style.marginTop,t.style.marginTop="0px",n.style.display="none")}},{key:"renderCss",value:function(){var e=this.state,t=(e.embededCss,e.gamePlayerContainer);this.props.gameContext;return r.a.createElement("style",null,"body ","{"," overflow: hidden; ","}",".embed-responsive ","{","position: relative; display: block; width:",t.width,";height:",t.height,"; padding: 0; overflow: hidden; text-align: center; margin-left: auto; margin-right: auto; ",t.border,";","}",".embeded_custom::before ","{","display: block; content: '';","}",".embed-responsive .embed-responsive-item, .embed-responsive iframe ","{","position: absolute; top: 0; bottom: 0; left: 0; width: 100%; height: 100%; border: 0;border-radius:15px;","}",".root ","{","padding-top:".concat(t.paddingTop,";"),'height: 100vh; background-color: #cccccc; background-image: url("assets/images/background.jpg"); background-size:100% 100%;',"}")}},{key:"renderIcons",value:function(){var e=this.props,t=e.classes,n=e.gameReady;return this.state.isRotationRequired?r.a.createElement("div",{className:t.rotateWrapper},r.a.createElement(Bn.a,{className:t.rotateIcon,fontSize:"large",color:"primary"})):n?void 0:r.a.createElement("div",{className:t.rotateWrapper},!n&&r.a.createElement(en.a,{size:80}))}},{key:"render",value:function(){var e=this,t=this.state.player,n=this.props,a=n.gameContext;n.classes,n.gameReady;return r.a.createElement(r.a.Fragment,null,this.renderCss(),r.a.createElement("div",{className:"root"},this.renderIcons(),r.a.createElement("div",{id:"g",className:"embed-responsive embeded_custom"},r.a.createElement("iframe",{ref:function(t){e.gameIframe=t},scrolling:"no",className:"embed-responsive-item",style:t.styles,src:a.game?a.game.url:""}))))}}]),t}(r.a.Component),$n=Qt()(function(e){return{progress:{margin:2*e.spacing.unit},rotateWrapper:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,top:0,textAlign:"center",paddingTop:"40vh"},rotateIcon:{fontSize:"20vh"}}})(Yn);var Kn=Object(G.withStyles)(function(e){return{container:{marginLeft:"auto",marginRight:"auto",textAlign:"center",width:"100%"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.container},r.a.createElement("img",{src:"assets/images/wizard4.gif"}))}),Xn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(oe.a)(this,Object(se.a)(t).call(this,e))).state={gameContext:null,gameReady:!1,gameOver:!1},n.gameComponentReadyHandler=n.gameComponentReadyHandler.bind(Object(Mt.a)(n)),n.handleGameEvents=n.handleGameEvents.bind(Object(Mt.a)(n)),n.gameComponent=null,n}return Object(ce.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleGameEvents);var e=this.getSelectedGameId();this.startNewGame(e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleGameEvents,!1)}},{key:"getSelectedGameId",value:function(){return"undefined"===typeof this.props.location.state||"undefined"===typeof this.props.location.state.gameId?Math.floor(100*Math.random())%3+1:this.props.location.state.gameId}},{key:"startNewGame",value:function(){var e=Object(wt.a)(Et.a.mark(function e(){var t,n,a=arguments;return Et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:-1,e.next=3,Tt.createRandomGameContext(t);case 3:n=e.sent,this.setState({gameContext:n,gameReady:!1,gameOver:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleGameEvents",value:function(e){var t=this;if(this.state.gameContext&&this.state.gameContext.game.url.startsWith(e.origin)&&(console.debug("game message received ".concat(JSON.stringify(e.data))),e.data&&e.data.name))switch(e.data.name){case Nt.EVENTS_NAME.GAME_LOADED:setTimeout(function(){t.setState({gameReady:!0})},200),this.sendEventToGame(new Nt.QuestionsReceivedEvent(this.state.gameContext.questions));break;case Nt.EVENTS_NAME.ANSWER_RECEIVED:this.handleAnswerReceived(e.data);break;case Nt.EVENTS_NAME.QUESTIONS_COMPLETED:this.handleQuestionsCompleted();break;default:console.debug("Uknown event from game")}}},{key:"handleAnswerReceived",value:function(e){console.debug("Answer received from game ".concat(JSON.stringify(e)))}},{key:"handleQuestionsCompleted",value:function(){var e=this;this.setState({gameOver:!0}),console.debug("How to handle questions  ?"),setTimeout(function(){e.startNewGame()},1500)}},{key:"sendEventToGame",value:function(e){this.gameComponent.contentWindow.postMessage(JSON.parse(JSON.stringify(e)),this.state.gameContext.game.url)}},{key:"gameComponentReadyHandler",value:function(e){console.debug("game container gameComponentReadyHandler"),this.gameComponent=e}},{key:"gameFinishedHandler",value:function(e){console.debug("game container gameFinishedHandler")}},{key:"answerReceivedHandler",value:function(e){console.debug("game container answerReceivedHandler")}},{key:"gameReadyHandler",value:function(e){console.debug("game container gameReadyHandler")}},{key:"gamePausedHandler",value:function(e){console.debug("game container gamePausedHandler")}},{key:"render",value:function(){var e=this.state,t=e.gameOver,n=e.gameContext;return r.a.createElement(r.a.Fragment,null,!t&&n&&r.a.createElement($n,{gameContext:this.state.gameContext,gameReady:this.state.gameReady,onGameComponentReady:this.gameComponentReadyHandler}),t&&r.a.createElement(Kn,null))}}]),t}(r.a.Component),Zn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{exact:!0,path:"/",component:At}),r.a.createElement(ft.a,{path:"/login",component:sn}),r.a.createElement(vt,{path:"/play",component:Xn}),r.a.createElement(vt,{path:"/youtube",component:Qn}),r.a.createElement(ft.a,{path:"/register",component:hn}))};var ea=Object(G.withStyles)(function(e){return{main:{backgroundColor:"red",padding:0,height:0}}})(function(e){var t=e.classes;return r.a.createElement(gt,null,r.a.createElement(L.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null),r.a.createElement(Qe,null),r.a.createElement("div",{id:"main",className:t.main},r.a.createElement(Zn,null)),r.a.createElement(dt,null))))}),ta=function(){var e;window.cordova&&window.AndroidFullScreen.immersiveMode(),e=W,O.a.defaults.baseURL=C.baseUrl,O.a.interceptors.request.use(function(t){var n=e.getState().auth.token;return null!==n&&(t.headers.common[C.tokenHeader]=n),t}),o.a.render(r.a.createElement(s.a,{store:W},r.a.createElement(ea,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};window.cordova?document.addEventListener("deviceready",ta,!1):ta()},57:function(e,t,n){window,e.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);var a=Object.freeze({GAME_LOADED:"GAME_LOADED",ANSWER_RECEIVED:"ANSWER_RECEIVED",QUESTIONS_RECEIVED:"QUESTIONS_RECEIVED",QUESTIONS_COMPLETED:"QUESTIONS_COMPLETED"}),r=a;function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.replyTime=n}var t,n;return t=e,(n=[{key:"toJSON",value:function(){return{name:r.ANSWER_RECEIVED,data:{answer:this.data,replyTime:this.replyTime}}}}])&&i(t.prototype,n),e}();function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t}var t,n;return t=e,(n=[{key:"toJSON",value:function(){return{name:r.GAME_LOADED,data:this.data}}}])&&s(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t}var t,n;return t=e,(n=[{key:"toJSON",value:function(){return{name:r.QUESTIONS_COMPLETED,data:this.data}}}])&&l(t.prototype,n),e}();function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isCorrect=n,this._body=t}var t,n;return t=e,(n=[{key:"isText",value:function(){return!0}},{key:"isAudio",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"text",value:function(){return this._body}},{key:"isCorrect",value:function(){return this._isCorrect}}])&&m(t.prototype,n),e}();function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.json=t}var t,n;return t=e,(n=[{key:"isText",value:function(){return!0}},{key:"isAudio",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"text",value:function(){return this.json.data.body}},{key:"answers",value:function(){var e=this;return this.json.data.answers.map(function(t){return new d(t,t===e.json.data.correctAnswer)})}},{key:"toJSON",value:function(){return this.json}}])&&h(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispatcher=t,this.questions=null,this.currentQuestionIndex=0,this.dispatcher.onNewQuestion(function(e){n.questions=e}),this.questionTime=null}var t,n;return t=e,(n=[{key:"gameLoaded",value:function(e){this.dispatcher.dispatchEvent(new c(e))}},{key:"checkAnswer",value:function(e){var t=new Date-this.questionTime;return this.dispatcher.dispatchEvent(new o(e,t)),e.isCorrect()}},{key:"getQuestion",value:function(){return this.questionTime=new Date,null===this.questions?this.questionFalllback():this.questions.length>this.currentQuestionIndex?this.questions[this.currentQuestionIndex++]:(this.dispatcher.dispatchEvent(new u({})),this.questions[0])}},{key:"questionFalllback",value:function(){return new p({id:-1,data:{answers:[1,2,3,4],body:"1 + 1 =",correctAnswer:2}})}}])&&g(t.prototype,n),e}();function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleEddyPlatformEvents=this.handleEddyPlatformEvents.bind(this),window.addEventListener("message",this.handleEddyPlatformEvents,!1),this.newQuestionCallBack=null}var t,n;return t=e,(n=[{key:"dispatchEvent",value:function(e){if(window.self!==window.top){var t=JSON.parse(JSON.stringify(e));window.top.postMessage(t,"*")}}},{key:"handleEddyPlatformEvents",value:function(e){if(e.data&&e.data.name)switch(console.debug("Eddy platform event received ".concat(JSON.stringify(e.data.name))),e.data.name){case r.QUESTIONS_RECEIVED:this.newQuestionCallBack(e.data.data.map(function(e){return new p(e)}));break;default:console.debug("Uknown event  ".concat(JSON.stringify(e)))}}},{key:"onNewQuestion",value:function(e){this.newQuestionCallBack=e}}])&&b(t.prototype,n),e}();function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t}var t,n;return t=e,(n=[{key:"toJSON",value:function(){return{name:r.QUESTIONS_RECEIVED,data:this.data}}}])&&y(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"EddySdk",function(){return j}),n.d(t,"EVENTS_NAME",function(){return r}),n.d(t,"QuestionsReceivedEvent",function(){return E}),n.d(t,"Question",function(){return p}),n.d(t,"Answer",function(){return d});var O=null;function k(){return null===O&&(O=new f(new v)),O}var j=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"gameLoaded",value:function(e){return k().gameLoaded(e)}},{key:"checkAnswer",value:function(e){return k().checkAnswer(e)}},{key:"getQuestion",value:function(){return k().getQuestion()}}])&&w(t.prototype,n),e}())}])}},[[211,1,2]]]);
//# sourceMappingURL=main.97c60a41.chunk.js.map